(function(n,t){"use strict";t.fn.extend({progressiveJackpotTicker:function(i){function u(n,t,i){n.data("start-at-value",(new Number(n.data("start-at-value"))+new Number(t.CentsPerSecond/100)).toFixed(r.DecimalDigits));var e=f(n.data("start-at-value"),!0);i?n.val(e):n.text(e);setTimeout(function(){u(n,t,i)},1250)}function f(n,t){var o=r.CurrencyPositivePattern,f=n.split("."),i="",e=t?f[1]:"",u;for(typeof e=="undefined"&&(e="0".repeat(t?r.DecimalDigits:0)),u=0;u<f[0].length;u++)u!==0&&u%new Number(r.GroupSize)==0&&(r.GroupSeparatorOptional==="1"&&new Number(f[0])<1e4||(i=(r.GroupSeparator==="&nbsp;"?String.fromCharCode(160):r.GroupSeparator)+i)),i=f[0].charAt(f[0].length-1-u)+i;return n=i+(i.length?(e.length?r.DecimalSeparator:"")+e:""),n.length?o.replace("$",r.CurrencySymbol).replace("n",n):""}var r,e;i=t.extend({},n,i);t.ajax({url:i.apiUrl!==null?i.apiUrl+"?cultureName="+i.cultureName:(location.protocol=="https:"?"https:":"http:")+"//"+i.apiDomain+"/ApiMgs.svc/GetProgressivesByCultureName/?cultureName="+i.cultureName,dataType:"jsonp",jsonpCallback:"progressiveJackpotResult_"+i.cultureName,jsonp:"callback",cache:!1}).done(function(n,f){var o,s,c,l,a,h;if(n!==null&&f!==null&&f.toLowerCase()==="success"&&(r=n.Currency,s={},t.each(n.Jackpots,function(n,i){s[i.JackpotId]=i;o=t("input[name='progressive"+i.JackpotId+"']");o.length&&(o.data("start-at-value",i.StartAtValue),u(o,i,!0))}),t(".progressive-jackpot-ticker").each(function(){o=t(this);h=typeof o.data("jackpot-id")!="undefined"?o.data("jackpot-id").toString():"";c=0;l=0;h.indexOf(",")!==-1?t.each(h.split(","),function(n,t){typeof s[t]!="undefined"&&(c+=new Number(s[t].StartAtValue),l+=new Number(s[t].CentsPerSecond))}):typeof s[h]!="undefined"&&(c=s[h].StartAtValue,l=s[h].CentsPerSecond);o.data("start-at-value",c);a={CentsPerSecond:l};u(o,a,!1)}),i.onComplete!==null))i.onComplete(e)}).fail(function(n,t,i){console.error("--- FAIL ---");console.error(n);console.error(t);console.error(i)});e={formatWithCurrency:function(n){var n=n||{},t=typeof n.amount!="undefined"?n.amount:"",i=typeof n.showDecimals!="undefined"?n.showDecimals:!0;return f(t,i)}}}})})({apiUrl:"/HandlerService/GetProgressiveJackpotTicker/",apiDomain:null,cultureName:"EN_USD",onComplete:null},jQuery,window,document);